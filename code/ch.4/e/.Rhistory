D:\006966_wonderful2\02. 원고개발\실습\ch.4\e
library(ggplot2)
source('D:/006966_wonderful2/02. 원고개발/실습/ch.4/e/generate-data.R')
d1 <- data.frame(group=1, Y=Y1)
d2 <- data.frame(group=2, Y=Y2)
d <- rbind(d1, d2)
d$group <- as.factor(d$group)
p <- ggplot(data=d, aes(x=group, y=Y, group=group, col=group))
p <- p + geom_boxplot(outlier.size=0)
p <- p + geom_point(position=position_jitter(w=0.4, h=0), size=2)
ggsave(file='D:/006966_wonderful2/02. 원고개발/실습/ch.4/e/fig-ex1.png', plot=p, dpi=300, w=4, h=3)
library(rstan)
source('D:/006966_wonderful2/02. 원고개발/실습/ch.4/e/generate-data.R')
data <- list(N1=N1, N2=N2, Y1=Y1, Y2=Y2)
fit <- stan(file='ex3.stan', data=data, seed=1234)
save.image('D:/006966_wonderful2/02. 원고개발/실습/ch.4/e/result-ex3.RData')
library(rstan)
load('D:/006966_wonderful2/02. 원고개발/실습/ch.4/e/result-ex3.RData')
ms <- extract(fit)
prob <- mean(ms$mu1 < ms$mu2)  #=> 0.9325
# N_mcmc <- length(ms$mu1)
# prob <- sum(ms$mu1 < ms$mu2)/N_mcmc  #=> 0.9325
library(rstan)
load('D:/006966_wonderful2/02. 원고개발/실습/ch.4/e/result-ex3.RData')
ms <- extract(fit)
prob <- mean(ms$mu1 < ms$mu2)
library(rstan)
source('D:/006966_wonderful2/02. 원고개발/실습/ch.4/e/generate-data.R')
data <- list(N1=N1, N2=N2, Y1=Y1, Y2=Y2)
fit <- stan(file='ex5.stan', data=data, seed=1234)
ms <- extract(fit)
prob <- mean(ms$mu1 < ms$mu2)  #=> 0.9457
ms
prob
prob <- mean(ms$mu1 < ms$mu2)
